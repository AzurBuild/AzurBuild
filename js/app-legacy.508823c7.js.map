{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/Calculator.vue?6b34","webpack:///./src/components/BuildInfoForm.vue?8cbf","webpack:///./src/App.vue?ccfd","webpack:///./src/components/Calculator.vue?0eb2","webpack:///./src/tools/Build.js","webpack:///./src/data/buildData.js","webpack:///./src/components/BuildInfoForm.vue?0442","webpack:///./src/data/shipTypes.js","webpack:///./src/tools/regex.js","webpack:///./src/tools/generateBuildList.js","webpack:///./src/tools/queries.js","webpack:///./src/components/CustomBuildInfoDialog.vue?6723","webpack:///./src/tools/formatters.js","webpack:///src/components/CustomBuildInfoDialog.vue","webpack:///./src/components/CustomBuildInfoDialog.vue?588e","webpack:///./src/components/CustomBuildInfoDialog.vue","webpack:///src/components/BuildInfoForm.vue","webpack:///./src/components/BuildInfoForm.vue?800d","webpack:///./src/components/BuildInfoForm.vue","webpack:///src/components/Calculator.vue","webpack:///./src/components/Calculator.vue?a42a","webpack:///./src/components/Calculator.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/plugins/element.js","webpack:///./src/main.js","webpack:///./src/components/Calculator.vue?a177","webpack:///./src/components/CustomBuildInfoDialog.vue?69da"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","style","containerWidth","on","addLine","staticStyle","showList","prop","order","cellMouseEnter","cellMouseLeave","scopedSlots","_u","fn","scope","row","buildList","percentFormatter","percentComparator","guaranteeFormatter","slot","getColor","index","_v","_s","desc","chartData","markLine","map","coord","join","timeFormatter","show","$event","toggleShown","deleteLine","deleteAll","directives","rawName","onChartContainerResize","ref","orgOptions","C","max","last","ans","cMap","Build","buildInfo","assign","buildCnt","percent","Decimal","div","count","rest","guaranteeNums","Set","filter","guarantee","sort","a","b","guaranteeNumsRev","Infinity","entries","guaranteeNum","coefMap","total","next","idx","restProb","coef","minGuarantee","restProbStr","toString","base","Array","fill","Math","min","newMinGuarantee","minus","times","distributionFn","_","start","end","items","mean","values","comparedTo","item","coBase","A","B","dividedBy","pow","meanCoef","term","basePowN","add","exp","dist","probability","Number","toFixed","buildData","freeze","ssr","sr","date","Date","parse","ur","form","formRules","_l","type","querySearchNatrual","model","callback","$$v","$set","expression","label","canFormSubmit","submitForm","resetForm","openDetailedDialog","addData","shipTypes","natrualNumber","positiveNumber","percentage","generateBuildList","staticOptions","options","cb","querySearchPositive","querySearchPercent","querySearchGuarantee","visible","itemForm","itemFormRules","onAddItem","deleteItem","closeDialog","column","cellValue","toISOString","split","required","message","trigger","fields","0","pattern","methods","openDialog","$refs","formRef","resetFields","itemFormRef","indexOf","component","components","CustomBuildInfoDialog","flag","$emit","customBuildInfoDialog","BuildInfoForm","colors","buildNum","initialBuildNum","visibleCount","onlyVisibleNode","fortunePercent","highlighting","tooltip","backgroundColor","formatter","confine","axisPointer","lineStyle","color","crossStyle","xAxis","nameLocation","nameGap","axisLine","yAxis","axisLabel","series","mounted","buildChart","computedOptions","stored","logs","JSON","drawLine","opacity","that","node","shadowBlur","itemStyle","symbol","symbolSize","position","distance","calcFortuneLines","builder","highlight","now","updateLocalStorage","localStorage","setItem","e","detail","width","watch","Calculator","Vue","use","Element","config","productionTip","ECharts","resize","render","h","App","$mount"],"mappings":"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","file":"js/app-legacy.508823c7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calculator.vue?vue&type=style&index=0&id=3044d06b&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuildInfoForm.vue?vue&type=style&index=0&id=55842793&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Calculator',{attrs:{\"id\":\"calc\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"calculator-container\",style:({\n    '--chart-container-width': (_vm.containerWidth + \"px\"),\n  })},[_c('el-aside',{attrs:{\"id\":\"calculator-config-container\",\"width\":\"570px\"}},[_c('el-main',{attrs:{\"id\":\"calculator-config\",\"width\":\"570px\"}},[_c('build-info-form',{on:{\"add-data\":_vm.addLine}}),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.showList,\"empty-text\":\"请添加图线\",\"default-sort\":{ prop: 'date', order: 'descending' }},on:{\"cell-mouse-enter\":_vm.cellMouseEnter,\"cell-mouse-leave\":_vm.cellMouseLeave}},[_c('el-table-column',{attrs:{\"prop\":\"desc\",\"label\":\"描述\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"right\",\"trigger\":\"hover\"}},[_c('el-table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"data\":scope.row.buildList}},[_c('el-table-column',{attrs:{\"property\":\"percent\",\"label\":\"概率\",\"sortable\":\"\",\"formatter\":_vm.percentFormatter,\"sort-method\":_vm.percentComparator}}),_c('el-table-column',{attrs:{\"property\":\"count\",\"label\":\"个数\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"property\":\"guarantee\",\"label\":\"保底\",\"sortable\":\"\",\"formatter\":_vm.guaranteeFormatter}})],1),_c('div',{staticClass:\"build-description\",attrs:{\"slot\":\"reference\",\"align\":\"left\"},slot:\"reference\"},[_c('span',{staticClass:\"line-marker\",style:({\n                    'background-color': _vm.getColor(scope.row.index),\n                  })}),_vm._v(\" \"+_vm._s(scope.row.desc)+\" \")])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"欧非线\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.chartData.markLine.data .map(function (data) { return data[0].coord[0]; }) .join('/'))+\" \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"mean\",\"label\":\"期望抽数\",\"align\":\"center\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"添加时间\",\"align\":\"center\",\"formatter\":_vm.timeFormatter,\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":scope.row.show ? '点击隐藏' : '点击显示'}},[_c('el-button',{attrs:{\"size\":\"mini\",\"circle\":\"\",\"icon\":(\"el-icon-view\" + (scope.row.show ? '' : ' icon-view-disabled'))},on:{\"click\":function($event){return _vm.toggleShown(scope.row)}}})],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"删除该图线\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.deleteLine(scope.row)}}})],1)]}}])},[_c('template',{slot:\"header\"},[_c('el-popconfirm',{attrs:{\"title\":\"确定清空全部内容吗？该操作不可恢复\"},on:{\"onConfirm\":function($event){return _vm.deleteAll()}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},slot:\"reference\"},[_vm._v(\"清空\")])],1)],1)],2)],1)],1)],1),_c('el-main',{directives:[{name:\"resize\",rawName:\"v-resize\"}],attrs:{\"id\":\"chart-container\"},on:{\"resize\":_vm.onChartContainerResize}},[_c('v-chart',{ref:\"buildChart\",attrs:{\"id\":\"chart\",\"options\":_vm.orgOptions,\"autoresize\":true,\"theme\":\"macarons\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Decimal } from 'decimal.js'\n\n// 组合数\nconst C = (n, max = n) => {\n  let last = 1\n  const ans = [last]\n  for (let i = 1; i <= max; i++) {\n    ans.push((last *= (n + 1 - i) / i))\n  }\n  return ans\n}\n// 组合数缓存\nconst cMap = {}\n\nexport default class Build {\n  constructor(buildList) {\n    buildList = buildList.map(buildInfo => Object.assign({}, buildInfo))\n    // 总共建造几艘船\n    let buildCnt = 0\n    for (let i = buildList.length - 1; i >= 0; i--) {\n      const buildInfo = buildList[i]\n      buildInfo.percent = Decimal.div(buildInfo.percent, 100)\n      if (!cMap[buildInfo.count]) {\n        cMap[buildInfo.count] = C(buildInfo.count)\n      }\n      // 该项后有几艘船可建造\n      buildInfo.rest = buildCnt\n      buildCnt += buildInfo.count\n    }\n    // 保底的抽数\n    const guaranteeNums = [\n      ...new Set(\n        buildList\n          .filter(\n            buildInfo => buildInfo.guarantee && buildInfo.guarantee > buildCnt,\n          )\n          .map(buildInfo => buildInfo.guarantee),\n      ),\n    ].sort((a, b) => a - b)\n    const guaranteeNumsRev = {\n      Infinity: guaranteeNums.length,\n    }\n    for (const [i, guaranteeNum] of guaranteeNums.entries()) {\n      guaranteeNumsRev[guaranteeNum] = i\n    }\n    const coefMap = {}\n    // total 艘沉船\n    for (let total = 1; total <= buildCnt; total++) {\n      // eslint-disable-next-line no-extra-semi\n      ;(function next(total, idx, restProb, coef, minGuarantee) {\n        if (total === 0) {\n          const restProbStr = restProb.toString()\n          if (!coefMap[restProbStr]) {\n            coefMap[restProbStr] = {\n              base: restProb,\n              coef: Array(guaranteeNums.length + 1).fill(0),\n            }\n          }\n          coefMap[restProbStr].coef[guaranteeNumsRev[minGuarantee]] += coef\n          return\n        }\n        const { percent, count, rest, guarantee } = buildList[idx]\n        for (\n          let i = Math.max(0, total - rest);\n          i <= Math.min(total, count);\n          i++\n        ) {\n          const newMinGuarantee =\n            guarantee && i > 0\n              ? Math.min(minGuarantee, guarantee)\n              : minGuarantee\n          next(\n            total - i,\n            idx + 1,\n            restProb.minus(percent.times(i)),\n            coef * cMap[count][i],\n            newMinGuarantee,\n          )\n        }\n      })(total, 0, new Decimal(1), total % 2 === 0 ? 1 : -1, Infinity)\n    }\n    const distributionFn = Array(guaranteeNums.length + 1)\n      .fill()\n      .map((_, i) => ({\n        start: i === 0 ? buildCnt : guaranteeNums[i - 1],\n        end: i === guaranteeNums.length ? Infinity : guaranteeNums[i],\n        items: [],\n      }))\n    let mean = new Decimal(0)\n    for (const item of Object.values(coefMap).sort((a, b) =>\n      a.base.comparedTo(b.base),\n    )) {\n      const base = item.base\n      // 概率函数\n      // f(n) = coef*base**n\n      for (let i = item.coef.length - 1, coef = 0; i >= 0; i--) {\n        coef += item.coef[i]\n        if (coef === 0) continue\n        distributionFn[i].items.push([base, coef])\n      }\n      // 期望\n      // E(n) = Sum[n*(f(n)-f(n-1)), (n, 1, maxN)]\n      //      = coef*Sum[n*(base**n-base**(n-1)), (n, 1, maxN)]\n      //      = coef*Sum[n*((base-1)*base**(n-1)), (n, 1, maxN)]\n      //      = (base-1)*coef*Sum[n*(base**(n-1)), (n, 1, maxN)]\n      // 采用 https://zhuanlan.zhihu.com/base/25042618\n      // a = 1, b = 0\n      // A = a/(base-1)=1/(base-1)\n      // B = (b-A)/(base-1)=-A/(base-1)=-1/(base-1)**2\n\n      // (base-1)\n      const coBase = base.minus(1)\n      // A = 1/(base-1)\n      const A = Decimal.div(1, coBase)\n      // B = -A/(base-1)\n      const B = new Decimal(-1).dividedBy(coBase.pow(2))\n      for (const [i, coef] of item.coef.entries()) {\n        if (coef === 0) continue\n        // (base-1)*coef\n        const meanCoef = coBase.times(coef)\n        let term = new Decimal(0)\n        if (i !== guaranteeNums.length) {\n          const n = guaranteeNums[i] - 1\n          const basePowN = base.pow(n)\n          mean = mean.add(\n            base\n              .times(item.coef[i + 1])\n              .minus(coef)\n              .times(basePowN)\n              .times(n + 1),\n          )\n          term = A.times(n)\n            .add(B)\n            .times(basePowN)\n        }\n        const exp = term.minus(B).times(meanCoef)\n        mean = mean.add(exp)\n      }\n    }\n\n    this.distributionFn = distributionFn\n    this.mean = mean\n  }\n\n  getMean() {\n    return this.mean\n  }\n\n  getProbability(count) {\n    const ans = Array(count + 1).fill(0)\n    for (const dist of this.distributionFn) {\n      if (dist.start > count) break\n      const items = dist.items.map(([base, coef]) => ({\n        base,\n        coef: base.pow(dist.start - 1).times(coef),\n      }))\n      for (let i = dist.start; i < Math.min(count + 1, dist.end); i++) {\n        let probability = new Decimal(1)\n        for (const item of items) {\n          item.coef = item.coef.times(item.base)\n          probability = probability.add(item.coef)\n        }\n        ans[i] = Number(probability.times(100).toFixed(2))\n      }\n    }\n    return ans\n  }\n}\n","export const buildData = Object.freeze([\r\n  {\r\n    desc: '微层混合',\r\n    buildList: {\r\n      ssr: 2,\r\n      sr: 1,\r\n      r: 1,\r\n    },\r\n    date: Date.parse('2020-03-26T17:00:00+08:00'),\r\n    show: false,\r\n  },\r\n  {\r\n    desc: '复刻:苍红的回响',\r\n    buildList: {\r\n      ssr: 1,\r\n      sr: 2,\r\n    },\r\n    date: Date.parse('2020-04-23T14:30:00+08:00'),\r\n    show: false,\r\n  },\r\n  {\r\n    desc: '穹顶下的圣咏曲',\r\n    buildList: {\r\n      ssr: 2,\r\n      sr: 1,\r\n    },\r\n    date: Date.parse('2020-06-03T00:00:00+08:00'),\r\n    show: false,\r\n  },\r\n  {\r\n    desc: '永夜幻光',\r\n    buildList: {\r\n      ssr: 2,\r\n      sr: 2,\r\n    },\r\n    date: Date.parse('2020-07-23T15:00:00+08:00'),\r\n    show: false,\r\n  },\r\n  {\r\n    desc: '蝶海梦花',\r\n    buildList: {\r\n      ur: 1,\r\n      ssr: 1,\r\n      sr: 3,\r\n    },\r\n    date: Date.parse('2020-09-17T16:00:00+08:00'),\r\n    show: true,\r\n  },\r\n  {\r\n    desc: '激唱的UNIVERSE',\r\n    buildList: {\r\n      ssr: 3,\r\n      sr: 2,\r\n    },\r\n    date: Date.parse('2020-10-29T15:00:00+08:00'),\r\n    show: true,\r\n  },\r\n  {\r\n    desc: '假日航线',\r\n    buildList: {\r\n      ssr: 3,\r\n      sr: 2,\r\n    },\r\n    date: Date.parse('2020-11-26T15:00:00+08:00'),\r\n    show: false,\r\n  },\r\n  {\r\n    desc: '新铁血活动',\r\n    buildList: {\r\n      ssr: 2,\r\n      sr: 2,\r\n    },\r\n    date: Date.parse('2020-12-29T08:00:00+08:00'),\r\n    show: true,\r\n  },\r\n])\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',[_c('el-form',{ref:\"formRef\",attrs:{\"model\":_vm.form,\"rules\":_vm.formRules,\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"添加图线\"}},_vm._l((_vm.shipTypes),function(type){return _c('el-form-item',{key:type.name,attrs:{\"prop\":type.name}},[_c('el-autocomplete',{staticClass:\"num-input\",attrs:{\"size\":\"mini\",\"fetch-suggestions\":_vm.querySearchNatrual},model:{value:(_vm.form[type.name]),callback:function ($$v) {_vm.$set(_vm.form, type.name, $$v)},expression:\"form[type.name]\"}}),_vm._v(\" \"+_vm._s(type.label)+\" \")],1)}),1),_c('el-form-item',[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"添加\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"circle\":\"\",\"size\":\"mini\",\"disabled\":!_vm.canFormSubmit()},on:{\"click\":_vm.submitForm}})],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"重置\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh-left\",\"circle\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.resetForm}})],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"自定义卡池\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-more\",\"circle\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.openDetailedDialog}})],1)],1)],1),_c('custom-build-info-dialog',{ref:\"customBuildInfoDialog\",on:{\"add-data\":_vm.addData}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const shipTypes = Object.freeze([\n  {\n    name: 'ur',\n    label: '彩',\n    percent: '1.2',\n    guarantee: 200,\n  },\n  {\n    name: 'ssr',\n    label: '金',\n    percent: '2',\n    guarantee: 0,\n  },\n  {\n    name: 'sr',\n    label: '紫',\n    percent: '2.5',\n    guarantee: 0,\n  },\n  {\n    name: 'r',\n    label: '蓝',\n    percent: '5',\n    guarantee: 0,\n  },\n])\n","export const natrualNumber = /^0$|^[1-9]\\d*$/\nexport const positiveNumber = /^[1-9]\\d*$/\nexport const percentage = /^\\d+(.\\d+)?$/\n","import { shipTypes } from '../data/shipTypes.js'\nexport function generateBuildList(data) {\n  const buildList = []\n  let desc = ''\n  for (const { name, label, percent, guarantee } of shipTypes) {\n    const count = Number(data[name])\n    if (!count) continue\n    buildList.push({\n      count,\n      percent,\n      guarantee,\n    })\n    desc += count + label\n  }\n  return {\n    desc,\n    buildList,\n  }\n}\n","const staticOptions = options => (_, cb) =>\n  cb(options.map(value => ({ value })))\nexport const querySearchNatrual = staticOptions(['0', '1', '2', '3', '4', '5'])\nexport const querySearchPositive = staticOptions(['1', '2', '3', '4', '5'])\nexport const querySearchPercent = staticOptions(['1.2', '2', '2.5', '5', '10'])\nexport const querySearchGuarantee = staticOptions(['0', '200'])\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"自定义卡池\",\"visible\":_vm.visible,\"align\":\"left\"},on:{\"update:visible\":function($event){_vm.visible=$event},\"close\":_vm.resetForm}},[_c('el-form',{ref:\"formRef\",attrs:{\"model\":_vm.form,\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"desc\",\"label-width\":\"60px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入卡池描述\"},model:{value:(_vm.form.desc),callback:function ($$v) {_vm.$set(_vm.form, \"desc\", $$v)},expression:\"form.desc\"}})],1),_c('el-divider'),_c('el-form-item',[_c('el-form',{ref:\"itemFormRef\",attrs:{\"model\":_vm.itemForm,\"rules\":_vm.itemFormRules,\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"添加项目：\"}},[_c('el-form-item',{attrs:{\"label\":\"概率\",\"prop\":\"percent\"}},[_c('el-autocomplete',{staticClass:\"detail-input\",attrs:{\"fetch-suggestions\":_vm.querySearchPercent},model:{value:(_vm.itemForm.percent),callback:function ($$v) {_vm.$set(_vm.itemForm, \"percent\", $$v)},expression:\"itemForm.percent\"}}),_vm._v(\"% \")],1),_c('el-form-item',{attrs:{\"label\":\"个数\",\"prop\":\"count\"}},[_c('el-autocomplete',{staticClass:\"detail-input\",attrs:{\"fetch-suggestions\":_vm.querySearchPositive},model:{value:(_vm.itemForm.count),callback:function ($$v) {_vm.$set(_vm.itemForm, \"count\", $$v)},expression:\"itemForm.count\"}})],1),_c('el-form-item',{attrs:{\"label\":\"保底(0为无保底)\",\"prop\":\"guarantee\"}},[_c('el-autocomplete',{staticClass:\"detail-input\",attrs:{\"fetch-suggestions\":_vm.querySearchGuarantee},model:{value:(_vm.itemForm.guarantee),callback:function ($$v) {_vm.$set(_vm.itemForm, \"guarantee\", $$v)},expression:\"itemForm.guarantee\"}})],1),_c('el-form-item',[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"添加\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"circle\":\"\",\"size\":\"small\"},on:{\"click\":_vm.onAddItem}})],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"重置\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh-left\",\"circle\":\"\",\"size\":\"small\"},on:{\"click\":_vm.resetForm}})],1)],1)],1)],1)],1),_c('el-form-item',{attrs:{\"prop\":\"buildList\"}},[_c('el-table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"data\":_vm.form.buildList,\"empty-text\":\"请在上方添加项目\"}},[_c('el-table-column',{attrs:{\"property\":\"percent\",\"label\":\"概率\",\"sortable\":\"\",\"formatter\":_vm.percentFormatter,\"sort-method\":_vm.percentComparator}}),_c('el-table-column',{attrs:{\"property\":\"count\",\"label\":\"个数\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"property\":\"guarantee\",\"label\":\"保底\",\"sortable\":\"\",\"formatter\":_vm.guaranteeFormatter}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"删除该项\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(scope.row)}}})],1)]}}])})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.closeDialog()}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm()}}},[_vm._v(\"添加\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function timeFormatter(row, column, cellValue, index) {\n  return new Date(cellValue).toISOString().split('T')[0]\n}\n\nexport function percentFormatter(row, column, cellValue, index) {\n  return cellValue + '%'\n}\n\nexport function percentComparator(a, b) {\n  return Number(a) - Number(b)\n}\n\nexport function guaranteeFormatter(row, column, cellValue, index) {\n  return cellValue || '无'\n}\n","<template>\n  <el-dialog\n    title=\"自定义卡池\"\n    :visible.sync=\"visible\"\n    align=\"left\"\n    @close=\"resetForm\"\n  >\n    <el-form :model=\"form\" ref=\"formRef\" :rules=\"formRules\">\n      <el-form-item label=\"描述\" prop=\"desc\" label-width=\"60px\">\n        <el-input v-model=\"form.desc\" placeholder=\"请输入卡池描述\"></el-input>\n      </el-form-item>\n      <el-divider></el-divider>\n      <el-form-item>\n        <el-form\n          :model=\"itemForm\"\n          ref=\"itemFormRef\"\n          :rules=\"itemFormRules\"\n          :inline=\"true\"\n        >\n          <el-form-item label=\"添加项目：\">\n            <el-form-item label=\"概率\" prop=\"percent\">\n              <el-autocomplete\n                class=\"detail-input\"\n                v-model=\"itemForm.percent\"\n                :fetch-suggestions=\"querySearchPercent\"\n              >\n              </el-autocomplete\n              >%\n            </el-form-item>\n            <el-form-item label=\"个数\" prop=\"count\">\n              <el-autocomplete\n                class=\"detail-input\"\n                v-model=\"itemForm.count\"\n                :fetch-suggestions=\"querySearchPositive\"\n              >\n              </el-autocomplete>\n            </el-form-item>\n            <el-form-item label=\"保底(0为无保底)\" prop=\"guarantee\">\n              <el-autocomplete\n                class=\"detail-input\"\n                v-model=\"itemForm.guarantee\"\n                :fetch-suggestions=\"querySearchGuarantee\"\n              >\n              </el-autocomplete>\n            </el-form-item>\n            <el-form-item>\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"添加\">\n                <el-button\n                  type=\"primary\"\n                  @click=\"onAddItem\"\n                  icon=\"el-icon-plus\"\n                  circle\n                  size=\"small\"\n                ></el-button>\n              </el-tooltip>\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"重置\">\n                <el-button\n                  type=\"primary\"\n                  @click=\"resetForm\"\n                  icon=\"el-icon-refresh-left\"\n                  circle\n                  size=\"small\"\n                ></el-button>\n              </el-tooltip>\n            </el-form-item>\n          </el-form-item>\n        </el-form>\n      </el-form-item>\n      <el-form-item prop=\"buildList\">\n        <el-table\n          stripe\n          border\n          :data=\"form.buildList\"\n          empty-text=\"请在上方添加项目\"\n        >\n          <el-table-column\n            property=\"percent\"\n            label=\"概率\"\n            sortable\n            :formatter=\"percentFormatter\"\n            :sort-method=\"percentComparator\"\n          ></el-table-column>\n          <el-table-column\n            property=\"count\"\n            label=\"个数\"\n            sortable\n          ></el-table-column>\n          <el-table-column\n            property=\"guarantee\"\n            label=\"保底\"\n            sortable\n            :formatter=\"guaranteeFormatter\"\n          ></el-table-column>\n          <el-table-column label=\"操作\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"删除该项\">\n                <el-button\n                  size=\"mini\"\n                  type=\"danger\"\n                  icon=\"el-icon-delete\"\n                  circle\n                  @click=\"deleteItem(scope.row)\"\n                ></el-button>\n              </el-tooltip>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"closeDialog()\">取消</el-button>\n      <el-button type=\"primary\" @click=\"submitForm()\">添加</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport {\n  percentFormatter,\n  guaranteeFormatter,\n  percentComparator,\n} from '../tools/formatters.js'\nimport {\n  querySearchPercent,\n  querySearchPositive,\n  querySearchGuarantee,\n} from '../tools/queries.js'\nimport { natrualNumber, positiveNumber, percentage } from '../tools/regex.js'\nexport default {\n  name: 'CustomBuildInfoDialog',\n  data() {\n    return {\n      visible: false,\n      form: {\n        desc: '',\n        buildList: [],\n      },\n      formRules: {\n        desc: {\n          type: 'string',\n          required: true,\n          message: '描述不能为空',\n          trigger: 'blur',\n        },\n        buildList: {\n          type: 'array',\n          required: true,\n          fields: {\n            0: {\n              type: 'object',\n              required: true,\n              trigger: 'change',\n            },\n          },\n          message: '卡池不能为空',\n          trigger: 'change',\n        },\n      },\n      itemForm: {\n        count: '1',\n        percent: '2',\n        guarantee: '0',\n      },\n      itemFormRules: {\n        count: {\n          pattern: positiveNumber,\n          required: true,\n          message: '应为正数',\n          trigger: 'change',\n        },\n        percent: {\n          pattern: percentage,\n          required: true,\n          message: '应为百分号前的数值',\n          trigger: 'change',\n        },\n        guarantee: {\n          pattern: natrualNumber,\n          required: true,\n          message: '应为自然数',\n          trigger: 'change',\n        },\n      },\n    }\n  },\n  methods: {\n    percentFormatter,\n    guaranteeFormatter,\n    percentComparator,\n    querySearchPercent,\n    querySearchPositive,\n    querySearchGuarantee,\n    openDialog(buildList = []) {\n      this.form.buildList = buildList\n      this.visible = true\n    },\n    closeDialog() {\n      this.visible = false\n    },\n    resetForm() {\n      this.$refs.formRef.resetFields()\n      this.$refs.itemFormRef.resetFields()\n    },\n    async onAddItem() {\n      try {\n        await this.$refs.itemFormRef.validate()\n        this.form.buildList.push({\n          count: Number(this.itemForm.count),\n          percent: this.itemForm.percent,\n          guarantee: Number(this.itemForm.guarantee),\n        })\n      } catch (e) {\n        // do nothing\n      }\n    },\n    deleteItem(row) {\n      this.form.buildList.splice(this.form.buildList.indexOf(row), 1)\n    },\n    async submitForm() {\n      try {\n        await this.$refs.formRef.validate()\n        this.$emit('add-data', {\n          desc: this.form.desc,\n          buildList: this.form.buildList,\n        })\n        this.closeDialog()\n      } catch (e) {\n        // do nothing\n      }\n    },\n  },\n}\n</script>\n\n<style scoped>\n.detail-input {\n  width: 80px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomBuildInfoDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomBuildInfoDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomBuildInfoDialog.vue?vue&type=template&id=8bcc5e50&scoped=true&\"\nimport script from \"./CustomBuildInfoDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomBuildInfoDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomBuildInfoDialog.vue?vue&type=style&index=0&id=8bcc5e50&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8bcc5e50\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-main>\n    <el-form :model=\"form\" ref=\"formRef\" :rules=\"formRules\" :inline=\"true\">\n      <el-form-item label=\"添加图线\">\n        <el-form-item\n          v-for=\"type in shipTypes\"\n          :key=\"type.name\"\n          :prop=\"type.name\"\n        >\n          <el-autocomplete\n            class=\"num-input\"\n            v-model=\"form[type.name]\"\n            size=\"mini\"\n            :fetch-suggestions=\"querySearchNatrual\"\n          >\n          </el-autocomplete>\n          {{ type.label }}\n        </el-form-item>\n      </el-form-item>\n      <el-form-item>\n        <el-tooltip class=\"item\" effect=\"dark\" content=\"添加\">\n          <el-button\n            type=\"primary\"\n            @click=\"submitForm\"\n            icon=\"el-icon-plus\"\n            circle\n            size=\"mini\"\n            :disabled=\"!canFormSubmit()\"\n          ></el-button>\n        </el-tooltip>\n        <el-tooltip class=\"item\" effect=\"dark\" content=\"重置\">\n          <el-button\n            type=\"primary\"\n            @click=\"resetForm\"\n            icon=\"el-icon-refresh-left\"\n            circle\n            size=\"mini\"\n          ></el-button>\n        </el-tooltip>\n        <el-tooltip class=\"item\" effect=\"dark\" content=\"自定义卡池\">\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-more\"\n            circle\n            size=\"mini\"\n            @click=\"openDetailedDialog\"\n          ></el-button>\n        </el-tooltip>\n      </el-form-item>\n    </el-form>\n    <custom-build-info-dialog ref=\"customBuildInfoDialog\" @add-data=\"addData\" />\n  </el-main>\n</template>\n\n<script>\nimport { shipTypes } from '../data/shipTypes.js'\nimport { natrualNumber } from '../tools/regex.js'\nimport { generateBuildList } from '../tools/generateBuildList.js'\nimport { querySearchNatrual } from '../tools/queries.js'\nimport CustomBuildInfoDialog from './CustomBuildInfoDialog'\nexport default {\n  name: 'BuildInfoForm',\n  components: {\n    CustomBuildInfoDialog,\n  },\n  data() {\n    const data = {\n      shipTypes,\n      form: {},\n      formRules: {},\n    }\n    for (const type of shipTypes) {\n      data.form[type.name] = '0'\n      data.formRules[type.name] = [\n        {\n          pattern: natrualNumber,\n          required: true,\n          message: '应为自然数',\n          trigger: 'change',\n        },\n      ]\n    }\n    return data\n  },\n  methods: {\n    querySearchNatrual,\n    canFormSubmit() {\n      let flag = false\n      for (const type of shipTypes) {\n        const val = this.form[type.name]\n        if (!natrualNumber.test(val)) return false\n        flag = flag || Number(val) > 0\n      }\n      return flag\n    },\n    addData(data) {\n      this.$emit('add-data', data)\n    },\n    submitForm() {\n      this.addData(generateBuildList(this.form))\n    },\n    resetForm() {\n      this.$refs.formRef.resetFields()\n    },\n    openDetailedDialog() {\n      this.$refs.customBuildInfoDialog.openDialog(\n        generateBuildList(this.form).buildList,\n      )\n    },\n  },\n}\n</script>\n\n<style scoped>\n.num-input {\n  width: 50px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuildInfoForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuildInfoForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuildInfoForm.vue?vue&type=template&id=55842793&scoped=true&\"\nimport script from \"./BuildInfoForm.vue?vue&type=script&lang=js&\"\nexport * from \"./BuildInfoForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuildInfoForm.vue?vue&type=style&index=0&id=55842793&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55842793\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-container\n    class=\"calculator-container\"\n    :style=\"{\n      '--chart-container-width': `${containerWidth}px`,\n    }\"\n  >\n    <el-aside id=\"calculator-config-container\" width=\"570px\">\n      <el-main id=\"calculator-config\" width=\"570px\">\n        <build-info-form @add-data=\"addLine\" />\n        <el-table\n          :data=\"showList\"\n          empty-text=\"请添加图线\"\n          style=\"width: 100%\"\n          :default-sort=\"{ prop: 'date', order: 'descending' }\"\n          @cell-mouse-enter=\"cellMouseEnter\"\n          @cell-mouse-leave=\"cellMouseLeave\"\n        >\n          <el-table-column prop=\"desc\" label=\"描述\" width=\"150\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-popover placement=\"right\" trigger=\"hover\">\n                <el-table stripe border :data=\"scope.row.buildList\">\n                  <el-table-column\n                    property=\"percent\"\n                    label=\"概率\"\n                    sortable\n                    :formatter=\"percentFormatter\"\n                    :sort-method=\"percentComparator\"\n                  ></el-table-column>\n                  <el-table-column\n                    property=\"count\"\n                    label=\"个数\"\n                    sortable\n                  ></el-table-column>\n                  <el-table-column\n                    property=\"guarantee\"\n                    label=\"保底\"\n                    sortable\n                    :formatter=\"guaranteeFormatter\"\n                  ></el-table-column>\n                </el-table>\n                <div class=\"build-description\" slot=\"reference\" align=\"left\">\n                  <span\n                    class=\"line-marker\"\n                    :style=\"{\n                      'background-color': getColor(scope.row.index),\n                    }\"\n                  ></span>\n                  {{ scope.row.desc }}\n                </div>\n              </el-popover>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"欧非线\" align=\"center\">\n            <template slot-scope=\"scope\">\n              {{\n                scope.row.chartData.markLine.data\n                  .map(data => data[0].coord[0])\n                  .join('/')\n              }}\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"mean\"\n            label=\"期望抽数\"\n            align=\"center\"\n            sortable\n          ></el-table-column>\n          <el-table-column\n            prop=\"date\"\n            label=\"添加时间\"\n            align=\"center\"\n            :formatter=\"timeFormatter\"\n            sortable\n          >\n          </el-table-column>\n          <el-table-column align=\"center\">\n            <template slot=\"header\">\n              <el-popconfirm\n                title=\"确定清空全部内容吗？该操作不可恢复\"\n                @onConfirm=\"deleteAll()\"\n              >\n                <el-button\n                  size=\"mini\"\n                  type=\"danger\"\n                  icon=\"el-icon-delete\"\n                  slot=\"reference\"\n                  >清空</el-button\n                >\n              </el-popconfirm>\n            </template>\n            <template slot-scope=\"scope\">\n              <el-tooltip\n                class=\"item\"\n                effect=\"dark\"\n                :content=\"scope.row.show ? '点击隐藏' : '点击显示'\"\n              >\n                <el-button\n                  size=\"mini\"\n                  circle\n                  :icon=\"\n                    `el-icon-view${scope.row.show ? '' : ' icon-view-disabled'}`\n                  \"\n                  @click=\"toggleShown(scope.row)\"\n                ></el-button>\n              </el-tooltip>\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"删除该图线\">\n                <el-button\n                  size=\"mini\"\n                  type=\"danger\"\n                  icon=\"el-icon-delete\"\n                  circle\n                  @click=\"deleteLine(scope.row)\"\n                ></el-button>\n              </el-tooltip>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-main>\n    </el-aside>\n    <el-main id=\"chart-container\" v-resize @resize=\"onChartContainerResize\">\n      <v-chart\n        id=\"chart\"\n        :options=\"orgOptions\"\n        :autoresize=\"true\"\n        ref=\"buildChart\"\n        theme=\"macarons\"\n      ></v-chart>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nimport 'echarts/lib/chart/line'\nimport 'echarts/lib/component/tooltip'\n// import 'echarts/lib/component/legend'\nimport 'echarts/theme/macarons'\nimport Build from '../tools/Build.js'\nimport { buildData } from '../data/buildData.js'\nimport BuildInfoForm from './BuildInfoForm'\nimport {\n  percentFormatter,\n  guaranteeFormatter,\n  percentComparator,\n  timeFormatter,\n} from '../tools/formatters.js'\nimport { generateBuildList } from '../tools/generateBuildList.js'\nexport default {\n  components: {\n    BuildInfoForm,\n  },\n  name: 'Calculator',\n  data() {\n    const initialBuildNum = 400\n    return {\n      colors: ['#000000'],\n      containerWidth: 0,\n      buildNum: initialBuildNum,\n      showList: [],\n      visibleCount: 0,\n      onlyVisibleNode: null,\n      fortunePercent: 10,\n      highlighting: null,\n      orgOptions: {\n        tooltip: {\n          backgroundColor: 'rgba(50,50,50,0.8)',\n          trigger: 'axis',\n          formatter: data => {\n            return `${data[0].axisValue} 抽内毕业概率：<table>${data\n              .filter(({ seriesIndex }) => this.showList[seriesIndex].show)\n              .map(\n                item =>\n                  `<tr>\n                    <td>${item.marker}</td>\n                    <td align=\"left\">${item.seriesName}</td>\n                    <td align=\"right\">${item.value.toFixed(2)}%</td>\n                  </tr>`,\n              )\n              .join('')}</table>`\n          },\n          confine: true,\n          axisPointer: {\n            type: 'cross',\n            lineStyle: {\n              color: '#000000',\n            },\n            crossStyle: {\n              color: '#000000',\n            },\n          },\n        },\n        xAxis: {\n          name: '建造次数',\n          nameLocation: 'center',\n          nameGap: 35,\n          type: 'category',\n          data: Array(initialBuildNum + 1)\n            .fill(0)\n            .map((x, i) => i),\n          axisLine: {\n            lineStyle: {\n              color: '#000000',\n            },\n          },\n        },\n        yAxis: {\n          name: '毕业率',\n          nameLocation: 'center',\n          nameGap: 40,\n          min: 0,\n          max: 100,\n          type: 'value',\n          axisLabel: {\n            formatter: '{value}%',\n          },\n          axisLine: {\n            lineStyle: {\n              color: '#000000',\n            },\n          },\n        },\n        series: [],\n      },\n    }\n  },\n  mounted() {\n    this.colors = this.$refs.buildChart.computedOptions.color\n    let logs = []\n    const stored = localStorage.getItem('log')\n    if (stored) {\n      try {\n        logs = JSON.parse(stored)\n      } catch (e) {\n        // do nothing\n      }\n    }\n    if (logs.length === 0) {\n      logs = buildData.map(data => ({\n        ...data,\n        buildList: Array.isArray(data.buildList)\n          ? data.buildList\n          : generateBuildList(data.buildList).buildList,\n      }))\n    }\n    for (const log of logs) {\n      this.drawLine(log)\n    }\n  },\n  methods: {\n    percentFormatter,\n    guaranteeFormatter,\n    percentComparator,\n    timeFormatter,\n    getColor(index) {\n      return this.colors[index % this.colors.length]\n    },\n    drawLine({ desc, buildList, date, show }) {\n      const builder = new Build(buildList)\n      const that = this\n      const style = {\n        opacity: show ? 1 : 0,\n        get shadowColor() {\n          return that.getColor(node.index)\n        },\n        shadowBlur: 0,\n      }\n      const data = builder.getProbability(this.buildNum)\n      const chartData = {\n        name: desc,\n        data,\n        type: 'line',\n        itemStyle: style,\n        lineStyle: style,\n        markLine: {\n          symbol: 'none',\n          symbolSize: 10,\n          label: {\n            get show() {\n              return that.onlyVisibleNode === node\n            },\n            position: 'start',\n            distance: 20,\n            formatter(data) {\n              const {\n                coord: [x, y],\n              } = data.data\n              return `${data.name}: ${x === 0 ? y + '%' : x}`\n            },\n          },\n          lineStyle: style,\n          data: this.calcFortuneLines(data),\n        },\n      }\n      const node = {\n        desc,\n        mean: Number(builder.mean.toFixed(2)),\n        date,\n        buildList,\n        builder,\n        chartData,\n        index: this.showList.length,\n        get show() {\n          return style.opacity === 1\n        },\n        set show(show) {\n          if (this.show === show) return\n          style.opacity = show ? 1 : 0\n          if (show) that.visibleCount++\n          else that.visibleCount--\n        },\n        get highlight() {\n          return style.shadowBlur === 3\n        },\n        set highlight(highlight) {\n          style.shadowBlur = highlight ? 3 : 0\n        },\n      }\n      this.showList.push(node)\n      this.orgOptions.series.push(chartData)\n      if (show) this.visibleCount++\n    },\n    addLine({ desc, buildList, show = true }) {\n      this.drawLine({\n        desc,\n        buildList,\n        date: Date.now(),\n        show,\n      })\n      this.updateLocalStorage()\n    },\n    deleteAll() {\n      this.showList = []\n      this.orgOptions.series = []\n      this.orgOptions = { ...this.orgOptions }\n      this.visibleCount = 0\n      this.updateLocalStorage()\n    },\n    toggleShown(row) {\n      row.show = !row.show\n      this.updateLocalStorage()\n    },\n    deleteLine(row) {\n      const index = row.index\n      this.showList.splice(index, 1)\n      for (let i = index; i < this.showList.length; i++) {\n        this.showList[i].index = i\n      }\n      this.orgOptions.series.splice(index, 1)\n      this.orgOptions = { ...this.orgOptions }\n      this.visibleCount--\n      this.updateLocalStorage()\n    },\n    updateLocalStorage() {\n      localStorage.setItem(\n        'log',\n        JSON.stringify(\n          this.showList.map(({ desc, buildList, date, show }) => ({\n            desc,\n            buildList,\n            date,\n            show,\n          })),\n        ),\n      )\n    },\n    cellMouseEnter(row, column, cell, event) {\n      if (this.highlighting !== row) {\n        if (this.highlighting) {\n          this.highlighting.highlight = false\n        }\n        this.highlighting = row\n        row.highlight = true\n      }\n    },\n    cellMouseLeave(row, column, cell, event) {\n      row.highlight = false\n      this.highlighting = null\n    },\n    onChartContainerResize(e) {\n      this.containerWidth = e.detail.width\n    },\n    calcFortuneLines(data) {\n      const { fortunePercent } = this\n      return [\n        {\n          name: '欧',\n          index: data.findIndex(val => val >= fortunePercent),\n        },\n        {\n          name: '亚',\n          index: data.findIndex(val => val >= 50),\n        },\n        {\n          name: '非',\n          index: data.findIndex(val => val >= 100 - fortunePercent),\n        },\n      ].map(({ name, index }) => [\n        {\n          name,\n          coord: [index, 0],\n        },\n        {\n          coord: [index, data[index]],\n        },\n      ])\n    },\n  },\n  watch: {\n    buildNum(buildNum, oldVal) {\n      this.orgOptions.xAxis.data = Array(buildNum + 1)\n        .fill(0)\n        .map((x, i) => i)\n      for (const [i, line] of this.orgOptions.series) {\n        line.data = this.showList[i].builder.getProbability(buildNum)\n        line.markLine.data = this.calcFortuneLines(line.data)\n      }\n    },\n    visibleCount(visibleCount, oldVal) {\n      this.onlyVisibleNode =\n        visibleCount === 1 ? this.showList.find(node => node.show) : null\n    },\n    fortunePercent(fortunePercent, oldVal) {\n      for (const line of this.orgOptions.series) {\n        line.markLine.data = this.calcFortuneLines(line.data)\n      }\n    },\n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#chart-container {\n  overflow: hidden;\n  padding: 0;\n  min-width: 550px;\n  min-height: calc(var(--chart-container-width) * 9 / 16);\n}\n#chart {\n  width: 100%;\n  height: 100%;\n  max-height: var(--chart-container-width);\n  min-height: calc(var(--chart-container-width) * 9 / 16);\n}\n.line-marker {\n  display: inline-block;\n  border-radius: 10px;\n  width: 10px;\n  height: 10px;\n}\n.build-description {\n  cursor: pointer;\n}\n#calculator-config {\n  padding: 0;\n}\n/* 瞎写的移动端适配，这玩意用移动端访问就是折磨自己…… */\n@media screen and (max-width: 1099px) and (orientation: portrait) {\n  .calculator-container {\n    flex-wrap: wrap-reverse;\n  }\n  #chart {\n    height: calc(var(--chart-container-width));\n  }\n  #chart-container {\n    width: 100% !important;\n    min-width: initial;\n  }\n  #calculator-config-container {\n    width: 100% !important;\n    max-height: calc(100vh - var(--chart-container-width));\n  }\n  #calculator-config {\n    width: auto !important;\n    min-width: max(570px, 100%);\n  }\n}\n</style>\n\n<style>\n.icon-view-disabled {\n  background: url(\"data:image/svg+xml,%3Csvg viewBox='0 0 1280 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath transform='translate(0 -64)' d='M1273.987 970.6L46 3.61c-6.8-5.6-17-4.6-22.4 2.4l-20 25c-5.6 7-4.4 17 2.4 22.4l1227.987 966.99c7 5.6 17 4.4 22.4-2.4l20-25c5.6-7 4.6-17-2.4-22.4z'/%3E%3C/svg%3E\")\n    center no-repeat;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calculator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calculator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calculator.vue?vue&type=template&id=3044d06b&scoped=true&\"\nimport script from \"./Calculator.vue?vue&type=script&lang=js&\"\nexport * from \"./Calculator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calculator.vue?vue&type=style&index=0&id=3044d06b&scoped=true&lang=css&\"\nimport style1 from \"./Calculator.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3044d06b\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <Calculator id=\"calc\" />\n  </div>\n</template>\n\n<script>\nimport Calculator from './components/Calculator'\n\nexport default {\n  name: 'app',\n  components: {\n    Calculator,\n  },\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n}\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\nhtml,\nbody,\n#app,\n#calc {\n  height: 100%;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=09023b93&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Element from 'element-ui'\nimport '../element-variables.scss'\n\nVue.use(Element)\n","import Vue from 'vue'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport App from './App.vue'\nimport './plugins/element.js'\n\nimport ECharts from 'vue-echarts'\nimport resize from 'vue-element-resize-detector'\n\nVue.config.productionTip = false\n\nVue.component('v-chart', ECharts)\nVue.use(resize)\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calculator.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomBuildInfoDialog.vue?vue&type=style&index=0&id=8bcc5e50&scoped=true&lang=css&\""],"sourceRoot":""}